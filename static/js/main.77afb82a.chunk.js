(this.webpackJsonpbiriba=this.webpackJsonpbiriba||[]).push([[0],{23:function(e,t,a){e.exports=a(40)},28:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(20),r=a.n(i),l=(a(28),a(15)),c=a.n(l),u=a(21),m=a(6),o=a(7),b=a(3),h=a(10),p=a(9),f=(a(30),a(31),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(m.a)(this,a),t.call(this,e)}return Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"Login"},s.a.createElement("div",{className:"login-container"},s.a.createElement("div",{className:"intro"},s.a.createElement("h1",null,"Welcome to Biriba Notes"),s.a.createElement("p",null,"Here you can here you can here you can here you can here you can here you can here")),s.a.createElement("button",{onClick:this.props.signInFunction},"Login with Google")))}}]),a}(s.a.Component)),d=(a(32),a(33),a(11)),y=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={numberOfPlayers:0,numberOfTeams:0,players:[],teams:[]},n.onChangeNumberOfPlayers=n.onChangeNumberOfPlayers.bind(Object(b.a)(n)),n.submitNumberOfPlayers=n.submitNumberOfPlayers.bind(Object(b.a)(n)),n.onChangePlayerNames=n.onChangePlayerNames.bind(Object(b.a)(n)),n.submitNumberOfTeams=n.submitNumberOfTeams.bind(Object(b.a)(n)),n.onChangeNumberOfTeams=n.onChangeNumberOfTeams.bind(Object(b.a)(n)),n.getAvailablePlayers=n.getAvailablePlayers.bind(Object(b.a)(n)),n.addPlayerToTeam=n.addPlayerToTeam.bind(Object(b.a)(n)),n}return Object(o.a)(a,[{key:"onChangeNumberOfPlayers",value:function(e){e.target.value;this.setState({numberOfPlayers:e.target.value,players:[]})}},{key:"submitNumberOfPlayers",value:function(){if(this.state.numberOfPlayers>1&&this.state.numberOfPlayers<=20){for(var e=[],t=0;t<this.state.numberOfPlayers;t++)e.push({id:t,name:""});this.setState({players:e})}}},{key:"onChangePlayerNames",value:function(e){var t=e.target.id.split("_")[1],a=e.target.value,n=this.state.players;n[t].name=a,this.setState({players:n})}},{key:"onChangeNumberOfTeams",value:function(e){this.setState({teams:[],numberOfTeams:e.target.value})}},{key:"submitNumberOfTeams",value:function(){if(this.state.numberOfTeams>=2&&this.state.numberOfTeams<=this.state.numberOfPlayers){var e=!1;if(this.state.players.forEach((function(t,a){""===t.name&&(e=!0)})),!e)for(var t=[],a=0;a<this.state.numberOfTeams;a++)t.push({id:a,members:[]}),this.setState({teams:t})}}},{key:"getAvailablePlayers",value:function(){var e=this;if(this.state.players!==[]&&this.state.teams!==[]&&this.state.teams.members!==[]){var t=[];return this.state.players.forEach((function(a,n){var s=!0;e.state.teams.forEach((function(e,t){e.members.forEach((function(e,t){Number(a.id)==Number(e.id)&&(s=!1)}))})),s&&t.push(a)})),t}return null}},{key:"addPlayerToTeam",value:function(e){var t=e.target.id.split("_"),a=t[1],n=t[2],s=this.state.teams;s[n].members.push({id:a}),this.setState({teams:s})}},{key:"render",value:function(){var e=this,t=[];if(this.state.players!==[]){var a=!1;this.state.players.forEach((function(n,i){a=!0,t.push(s.a.createElement("div",{className:"player-section",key:"playersDiv"+i},s.a.createElement("p",{className:"title"},"Player: ",i+1),s.a.createElement("input",{type:"text",maxLength:"20",id:"playerName_"+i,value:e.state.players[i].name,onChange:e.onChangePlayerNames,required:!0}),s.a.createElement("p",null,"Name")))})),a&&(t.unshift(s.a.createElement("div",{className:"line",key:"playersDiv_0000"})),t.push(s.a.createElement("div",{className:"section",key:"playersDiv9999"},s.a.createElement("input",{type:"number",placeholder:"2",maxLength:"2",minLength:"1",max:this.state.numberOfPlayers,min:"2",value:this.state.numberOfTeams,onChange:this.onChangeNumberOfTeams,required:!0}),s.a.createElement("p",null,"Number of teams"),s.a.createElement("button",{type:"submit",style:{height:"40px"},className:"submit-players-button",onClick:this.submitNumberOfTeams},"Submit names and number of teams"))))}var n=[];if(this.state.teams!==[]){var i=!1;this.state.teams.forEach((function(t,a){i=!0;var r=e.getAvailablePlayers(),l=[];r.forEach((function(a,n){l.push(s.a.createElement("button",{id:"availablePlayer_"+a.id+"_"+t.id,onClick:e.addPlayerToTeam,key:"availablePlayer_"+n,className:"tag"},a.name))})),r!==[]&&null!==r&&0!==r.length||(l=s.a.createElement("p",{className:"msg"},"No available players left"));var c=[];t.members.forEach((function(t,a){c.push(s.a.createElement("button",{key:"selectedPlayer_"+a,className:"tag"},e.state.players[t.id].name))})),0===c.length&&(c=s.a.createElement("p",{className:"msg"},"No members yet")),n.push(s.a.createElement("div",{className:"player-section",key:"teamsDiv"+a},s.a.createElement("p",{className:"title"},"Team: ",a+1),s.a.createElement("div",{className:"add-players-div"},s.a.createElement("div",{className:"player-tags"},s.a.createElement("p",null,"Selected players"),c),s.a.createElement("div",{className:"player-tags"},s.a.createElement("p",null,"Available players"),l))))})),i&&(n.unshift(s.a.createElement("div",{className:"line",key:"teamsDiv_0000"})),n.push(s.a.createElement("div",{className:"section",key:"teamsDiv9910"},s.a.createElement("button",{type:"submit",style:{height:"40px",backgroundColor:"#1B9AAA"},className:"submit-players-button",onClick:this.submitNumberOfTeams},"Create game note"))))}return s.a.createElement("div",{className:"NewGame"},s.a.createElement("div",{className:"NewGame-container"},s.a.createElement("div",{className:"header"},s.a.createElement("p",null,"New Game"),s.a.createElement(d.b,{to:"/biriba"},s.a.createElement("i",{className:"fa fa-arrow-left"}))),s.a.createElement("div",{className:"line"}),s.a.createElement("div",{className:"section"},s.a.createElement("input",{type:"number",placeholder:"2",maxLength:"2",minLength:"1",max:"20",min:"2",value:this.state.numberOfPlayers,onChange:this.onChangeNumberOfPlayers}),s.a.createElement("p",null,"Number of players"),s.a.createElement("button",{type:"submit",className:"submit-players-button",onClick:this.submitNumberOfPlayers},"Submit number of players")),t,n))}}]),a}(s.a.Component),g=a(1),v=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(m.a)(this,a),t.call(this,e)}return Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement(d.a,null,s.a.createElement("div",{className:"Menu"},s.a.createElement(g.c,null,s.a.createElement(g.a,{exact:!0,path:"/biriba"},s.a.createElement("div",{className:"menu-container"},s.a.createElement("div",{className:"intro"},s.a.createElement("h1",null,"Menu")),s.a.createElement(d.b,{to:"/biriba/new-game"},s.a.createElement("i",{className:"fa fa-plus"}),s.a.createElement("p",null,"New Game Notes")),s.a.createElement(d.b,{to:"/biriba/unfinished-games"},s.a.createElement("i",{className:"fa fa-edit"}),s.a.createElement("p",null,"Unfinished Game Notes")),s.a.createElement(d.b,{to:"/biriba/history"},s.a.createElement("i",{className:"fa fa-clipboard"}),s.a.createElement("p",null,"History")))),s.a.createElement(g.a,{exact:!0,path:"/biriba/new-game"},s.a.createElement(y,null)))))}}]),a}(s.a.Component),E=(a(39),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(m.a)(this,a),t.call(this,e)}return Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"Logout"},s.a.createElement("div",{className:"logout-container"},s.a.createElement("div",{className:"user"},s.a.createElement("i",{className:"fa fa-user"}),s.a.createElement("p",null,this.props.userMail)),s.a.createElement("button",{onClick:this.props.signOutFunction},s.a.createElement("i",{className:"fa fa-sign-out"}))))}}]),a}(s.a.Component)),N=function(){function e(){Object(m.a)(this,e)}return Object(o.a)(e,null,[{key:"getAPIKey",value:function(){return"AIzaSyDx-UwZd7JuuZZEKaA5OeCXpiWr4PGul9I"}},{key:"getClientID",value:function(){return"286520596166-kcoq2cmrbd0cejleemk2viuq6rguivhj.apps.googleusercontent.com"}}]),e}(),O="https://www.googleapis.com/auth/drive.metadata.readonly",j=N.getAPIKey(),C=N.getClientID(),S=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).handleClientLoad=function(){window.gapi.load("client:auth2",e.initClient)},e.initClient=function(){try{window.gapi.client.init({apiKey:j,clientId:C,scope:O,discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"]}).then((function(){e.setState({googleAuth:window.gapi.auth2.getAuthInstance()}),e.state.googleAuth.isSignedIn.listen(e.updateSigninStatus)}))}catch(t){console.log(t)}},e.signInFunction=function(){try{e.state.googleAuth.signIn(),e.updateSigninStatus()}catch(t){console.log(t)}},e.signOutFunction=function(){e.state.googleAuth.signOut(),e.updateSigninStatus()},e.updateSigninStatus=function(){e.setSigninStatus()},e.setSigninStatus=Object(u.a)(c.a.mark((function t(){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({userMail:""}),t.next=3,e.state.googleAuth.currentUser.get();case 3:a=t.sent,a.hasGrantedScopes(O)&&e.setState({userMail:a.vt.cu});case 6:case"end":return t.stop()}}),t)}))),e.state={name:"",googleAuth:"",userMail:""},e.initClient=e.initClient.bind(Object(b.a)(e)),e.signInFunction=e.signInFunction.bind(Object(b.a)(e)),e.signOutFunction=e.signOutFunction.bind(Object(b.a)(e)),e.updateSigninStatus=e.updateSigninStatus.bind(Object(b.a)(e)),e.handleClientLoad=e.handleClientLoad.bind(Object(b.a)(e)),e.setSigninStatus=e.setSigninStatus.bind(Object(b.a)(e)),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=document.createElement("script");e.onload=this.handleClientLoad,e.src="https://apis.google.com/js/api.js",document.body.appendChild(e)}},{key:"render",value:function(){var e="",t="";return""===this.state.userMail||void 0===this.state.userMail?e=s.a.createElement(f,{signInFunction:this.signInFunction}):(e=s.a.createElement(v,null),t=s.a.createElement(E,{userMail:this.state.userMail,signOutFunction:this.signOutFunction})),s.a.createElement("div",{className:"App"},t,e)}}]),a}(s.a.Component);r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(S,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.77afb82a.chunk.js.map